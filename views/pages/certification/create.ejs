<% layout('layouts/layout') -%>
    <% block('header', true) %>
        <% block('sidebar', true) %>
            <div class="max-w-2xl mx-auto mt-10 bg-white rounded-lg shadow p-8">
                <h1 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-certificate mr-2 text-indigo-600"></i> Add Certification
                </h1>
                <% if (typeof error !=='undefined' && error) { %>
                    <div class="mb-4 p-3 bg-red-100 text-red-700 rounded">Error: <%= error %>
                    </div>
                    <% } %>
                        <form action="/certifications" method="POST" class="space-y-6">
                            <div>
                                <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
                                <input type="text" id="title" name="title" required
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label for="description"
                                    class="block text-sm font-medium text-gray-700">Description</label>
                                <textarea id="description" name="description" rows="3" required
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"></textarea>
                            </div>
                            <div>
                                <label for="type" class="block text-sm font-medium text-gray-700">Type</label>
                                <input type="text" id="type" name="type" required
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label for="icon" class="block text-sm font-medium text-gray-700">Icon (emoji or icon
                                    name)</label>
                                <input type="text" id="icon" name="icon" required
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label for="issuedBy" class="block text-sm font-medium text-gray-700">Issued By</label>
                                <input type="text" id="issuedBy" name="issuedBy"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label for="issuedAt" class="block text-sm font-medium text-gray-700">Issued At</label>
                                <input type="date" id="issuedAt" name="issuedAt"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label for="link" class="block text-sm font-medium text-gray-700">Certificate Link
                                    (optional)</label>
                                <input type="url" id="link" name="link"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Certificate
                                    Image/Media</label>
                                <div class="flex items-center gap-2">
                                    <input type="hidden" id="media" name="media" />
                                    <button type="button"
                                        onclick="openMediaModal(function(mediaId, url){ document.getElementById('media').value = mediaId; document.getElementById('mediaPreview').src = url; document.getElementById('mediaPreview').classList.remove('hidden'); })"
                                        class="bg-indigo-500 text-white px-3 py-1 rounded hover:bg-indigo-600 text-sm">Select
                                        Media</button>
                                    <img id="mediaPreview" src="#" alt="Media Preview"
                                        class="hidden w-16 h-16 object-cover rounded border border-gray-300" />
                                </div>
                            </div>
                            <div class="flex justify-end space-x-3">
                                <a href="/certifications"
                                    class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Cancel</a>
                                <button type="submit"
                                    class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">Save</button>
                            </div>
                        </form>
            </div>
            <%- include('../../partials/media/media_modal') %>