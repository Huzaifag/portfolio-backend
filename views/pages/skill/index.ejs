<% layout('layouts/layout') -%>

    <% block('header', true) %>
        <% block('sidebar', true) %>
<div class="max-w-3xl mx-auto mt-10">
	<div class="flex items-center justify-between mb-6">
		<h1 class="text-2xl font-bold text-gray-800 flex items-center">
		<i class="fas fa-tools mr-2 text-indigo-600"></i> Skill List
		</h1>
		<a href="/skill/create" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
		<i class="fas fa-plus mr-2"></i> Add New
		</a>
	</div>
	<div class="bg-white rounded-lg shadow">
		<table class="min-w-full divide-y divide-gray-200">
			<thead class="bg-gray-50">
				<tr>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Image</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Experty Level</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
				</tr>
			</thead>
			<tbody class="bg-white divide-y divide-gray-200">
				<% if (skills && skills.length) { %>
				<% skills.forEach(skill => { %>
				<tr>
				<td class="px-6 py-4 whitespace-nowrap"><%= skill.name %></td>
					<td class="px-6 py-4 whitespace-nowrap">
					  <% if (skill.image) { %>
						<img src="<%= skill.image.startsWith('/uploads/') ? skill.image : '/uploads/' + skill.image %>" alt="Skill Image" class="w-8 h-8 object-contain rounded" />
					  <% } %>
					</td>
					<td class="px-6 py-4 whitespace-nowrap"><%= skill.expertyLevel %></td>
				<td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
				<a href="/skill/<%= skill._id %>" class="text-indigo-600 hover:text-indigo-900 mr-3">Show</a>
				<a href="/skill/<%= skill._id %>/edit" class="text-yellow-600 hover:text-yellow-900 mr-3">Edit</a>
				<form action="/skill/<%= skill._id %>/delete" method="POST" style="display:inline">
					<button type="submit" class="text-red-600 hover:text-red-900">Delete</button>
				</form>
				</td>
				</tr>
				<% }) %>
				<% } else { %>
				<tr><td colspan="4" class="px-6 py-4 text-center text-gray-500">No skills found.</td></tr>
				<% } %>
			</tbody>
		</table>
	</div>
</div>
