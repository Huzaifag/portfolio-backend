<% layout('layouts/layout') -%>

    <% block('header', true) %>
        <% block('sidebar', true) %>
<div class="max-w-5xl mx-auto mt-10">
	<div class="flex items-center justify-between mb-6">
		<h1 class="text-2xl font-bold text-gray-800 flex items-center">
		<i class="fas fa-graduation-cap mr-2 text-indigo-600"></i> Education List
		</h1>
		<a href="/education/new" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
		<i class="fas fa-plus mr-2"></i> Add New
		</a>
	</div>

	<!-- Filter/Search -->
	<div class="mb-4">
		<input type="text" id="filterInput" placeholder="Filter by degree or institution..." class="w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" onkeyup="filterTable()">
	</div>

	<div class="bg-white rounded-lg shadow">
		<table class="min-w-full divide-y divide-gray-200" id="infoTable">
			<thead class="bg-gray-50">
				<tr>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Degree</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Institution</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Duration</th>
					<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
				</tr>
			</thead>
			<tbody class="bg-white divide-y divide-gray-200">
				<% if (educations && educations.length) { %>
				<% educations.forEach(education => { %>
				<tr>
				<td class="px-6 py-4 whitespace-nowrap"><%= education.degree %></td>
				<td class="px-6 py-4 whitespace-nowrap"><%= education.institution %></td>
				<td class="px-6 py-4 whitespace-nowrap"><%= education.duration %></td>
				<td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
				<a href="/education/<%= education._id %>" class="text-indigo-600 hover:text-indigo-900 mr-3">Show</a>
				<a href="/education/<%= education._id %>/edit" class="text-yellow-600 hover:text-yellow-900 mr-3">Edit</a>
				<form action="/education/<%= education._id %>/delete" method="POST" style="display:inline">
				<button type="submit" class="text-red-600 hover:text-red-900" onclick="return confirm('Delete this education?')">Delete</button>
				</form>
				</td>
				</tr>
				<% }) %>
				<% } else { %>
				<tr><td colspan="4" class="px-6 py-4 text-center text-gray-500">No education records found.</td></tr>
				<% } %>
			</tbody>
		</table>
	</div>
</div>

<script>
	function filterTable() {
		var input = document.getElementById('filterInput');
		var filter = input.value.toLowerCase();
		var table = document.getElementById('infoTable');
		var trs = table.getElementsByTagName('tr');
		for (var i = 1; i < trs.length; i++) {
			var tds = trs[i].getElementsByTagName('td');
			if (tds.length > 1) {
				var degree = tds[0].textContent.toLowerCase();
				var institution = tds[1].textContent.toLowerCase();
				if (degree.indexOf(filter) > -1 || institution.indexOf(filter) > -1) {
					trs[i].style.display = '';
				} else {
					trs[i].style.display = 'none';
				}
			}
		}
	}
</script>
        

